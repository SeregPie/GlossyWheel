!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).JustMyLuck=n()}(this,(function(){"use strict";var t=function(t){this.random=t},n={random:{configurable:!0}};n.random.get=function(){return Math.random},t.extend=function(t){var n=this;Object.entries(t).forEach((function(t){var r=t[0],i=t[1];n[r]=i,Object.defineProperty(n.prototype,r,{get:function(){return this.constructor[r]}})}))},Object.defineProperties(t,n),t.extend({boolean:function(){return this.random()<.5}}),t.extend({booleanWeighted:function(t){return t>0&&(!(t<1/0)||(1-this.random())*(1+t)>1)}}),t.extend({chance:function(t){return t>0&&(!(t<1)||this.random()<t)}}),t.extend({float:function(t,n,r){var i=this;if(void 0===r&&(r=!1),r){if(t===n)return t;var e,u=function(){return(e=i.float(t,n))===t};return(u()||u())&&this.boolean()&&(e=n),e}if(t<n){var o=t+(n-t)*this.random();return o>t&&o<n?o:t}throw new RangeError}}),t.extend({integer:function(t,n,r){return void 0===r&&(r=!1),t=Math.ceil(t),n=Math.floor(n),r&&n++,n-t==1?t:Math.floor(this.float(t,n))}}),t.extend({date:function(t,n,r){return new Date(this.integer(t.getTime(),n.getTime(),r))}});var r=624;function i(t){return t&&function(t){return Number.isSafeInteger(t)&&!function(t){return t<0}(t)}(t.length)}function e(t){return i(t)?t:Array.from(t)}Object.assign(t,{MersenneTwister:function(t){for(var n=[t],i=1;i<r;i++)n[i]=1812433253*(n[i-1]^n[i-1]>>30)+i;var e=0;return function(){if(!e)for(var t=0;t<r;t++){var i=(2147483648&n[t])+(2147483647&n[(t+1)%r]),u=i>>1;i%2&&(u^=2567483615),n[t]=n[(t+397)%r]^u}var o=n[e];return o^=o>>11,o^=o<<7&2636928640,o^=o<<15&4022730752,e=(e+1)%r,(o^=o>>18)/2147483649}}}),t.extend({pickIndex:function(t){return this.integer(0,t.length)}}),t.extend({pick:function(t){var n=e(t);return n[this.pickIndex(n)]},single:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pick.apply(t,n)}}),t.extend({pickCombination:function(t,n){var r=e(t),i=r.length;if(i>1&&n>1){if(n<i/2){for(var u=[],o=0;n>0&&i>0;o++,i--)this.chance(n/i)&&(u.push(r[o]),n--);return u}r===t&&(r=Array.from(r));for(var a=i-n;a>0;a--){var c=this.pickIndex(r);r.splice(c,1)}return r}return i>0&&n>0?[this.pick(r)]:[]},combination:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickCombination.apply(t,n)}});var u=Array.isArray;function o(t){return u(t)?t:Array.from(t)}function a(t){return t.reduce((function(t,n){return t+n}),0)}function c(t){var n=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.call.apply(t,[this,n].concat(r))};return n}function f(t){return Array.from({length:t})}t.extend({pickWeighted:function(t){var n,r,i=[],e=[],u=[];if(o(t).forEach((function(t){var n=t[0],r=t[1];r>0?r<1/0?i.push([n,r]):e.push(n):u.push(n)})),e.length)return this.pick(e);if(i.length){var c=[],f=i.sort((function(t,n){return n[1]-t[1]})).map((function(t){var n=t[0],r=t[1];return c.push(r),n})),h=c[0];if((n=c)[(r=n,r.length-1)]===h)return this.pick(f);var p=a(c=c.map((function(t){return t/h}))),s=this.float(0,p),l=c.findIndex((function(t){return(s-=t)<0}));return l<0&&(l=0),f[l]}return this.pick(u)},singleWeighted:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickWeighted.apply(t,n)}}),t.extend({pickCombinationWeighted:function(t,n){var r=this,i=[],e=[],u=[],f=[];o(t).forEach((function(t,n){var r=t[0],o=t[1];f.push(r),o>0?o<1/0?i.push([n,o]):e.push(n):u.push(n)}));var h=new Set;return n>0&&e.length&&this.pickCombination(e,n).forEach((function(t){h.add(t),n--})),function(){var t,e,u=i.length;return u>0&&n>0?r.pickWeighted((t=i,e=Math.min(n,u),t.length<e?[]:c((function(t,n,r){if(--r<0)return[[]];var i=[];n=n.slice();for(var e=function(){var e=n.shift();t(n,r).forEach((function(t){t.unshift(e),i.push(t)}))};n.length-r;)e();return i}))(t,e)).map((function(t){return[t.map((function(t){return t[0]})),a(t.map((function(t){return t[1]})))]}))):[]}().forEach((function(t){h.add(t),n--})),n>0&&u.length&&this.pickCombination(u,n).forEach((function(t){h.add(t)})),f.filter((function(t,n){return h.has(n)}))},combinationWeighted:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickCombinationWeighted.apply(t,n)}}),t.extend({pickMulticombination:function(t,n){var r=e(t),i=r.length;if(n>0){if(i>1){for(var u=[],o=0;n>0&&i>0;)this.chance(n/(n+i-1))?(u.push(r[o]),n--):(o++,i--);return u}if(i>0){var a=r[0];return f(n).fill(a)}}return[]},multicombination:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickMulticombination.apply(t,n)}}),t.extend({pickMulticombinationWeighted:function(t,n){var r,i,e=[],u=[],f=[];return o(t).forEach((function(t){var n=t[0],r=t[1];r>0?r<1/0?e.push([n,r]):u.push(n):f.push(n)})),u.length?this.pickMulticombination(u,n):e.length?this.pickWeighted((r=e,i=n,c((function(t,n,r){if(--r<0)return[[]];var i=[];n=n.slice();for(var e=function(){var e=n[0];t(n,r).forEach((function(t){t.unshift(e),i.push(t)})),n.shift()};n.length;)e();return i}))(r,i)).map((function(t){return[t.map((function(t){return t[0]})),a(t.map((function(t){return t[1]})))]}))):this.pickMulticombination(f,n)},multicombinationWeighted:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickMulticombinationWeighted.apply(t,n)}}),t.extend({pickMultipermutation:function(t,n){var r=e(t),i=r.length;if(n>0){if(i>1){for(var u=[];n>0;n--)u.push(this.pick(r));return u}if(i>0){var o=r[0];return f(n).fill(o)}}return[]},multipermutation:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickMultipermutation.apply(t,n)}}),t.extend({pickMultipermutationWeighted:function(t,n){var r,i,e=[],u=[],f=[];return o(t).forEach((function(t){var n=t[0],r=t[1];r>0?r<1/0?e.push([n,r]):u.push(n):f.push(n)})),u.length?this.pickMultipermutation(u,n):e.length?this.pickWeighted((r=e,i=n,c((function(t,n,r){if(--r<0)return[[]];var i=[];return n.forEach((function(e){t(n,r).forEach((function(t){t.unshift(e),i.push(t)}))})),i}))(r,i)).map((function(t){return[t.map((function(t){return t[0]})),a(t.map((function(t){return t[1]})))]}))):this.pickMultipermutation(f,n)},multipermutationWeighted:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickMultipermutationWeighted.apply(t,n)}}),t.extend({shuffleInPlace:function(t){for(var n,r=t.length;r>1;){var i=this.integer(0,r);r--,n=[t[i],t[r]],t[r]=n[0],t[i]=n[1]}return t}}),t.extend({pickPermutation:function(t,n){var r=e(t),i=r.length;if(i>1&&n>1){if(r===t&&(r=Array.from(r)),n<i){for(var u=[];n>0;n--){var o=this.pickIndex(r),a=r.splice(o,1)[0];u.push(a)}return u}return this.shuffleInPlace(r)}return i>0&&n>0?[this.pick(r)]:[]},permutation:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickPermutation.apply(t,n)}}),t.extend({pickPermutationWeighted:function(t,n){return this.shuffleInPlace(this.pickCombinationWeighted(t,n))},permutationWeighted:function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return(t=this).pickPermutationWeighted.apply(t,n)}}),t.extend({shuffle:function(t){return this.shuffleInPlace(Array.from(t))}});var h="abcdefghijklmnopqrstuvwxyz".toUpperCase(),p="abcdefghijklmnopqrstuvwxyz"+h,s=p+"0123456789",l=h+"0123456789";return Object.assign(t,{alphabetic:p,alphanumeric:s,lowerCasedAlphabetic:"abcdefghijklmnopqrstuvwxyz",lowerCasedAlphanumeric:"abcdefghijklmnopqrstuvwxyz0123456789",numeric:"0123456789",upperCasedAlphabetic:h,upperCasedAlphanumeric:l}),t.extend({string:function(t,n){var r=e(t),i=r.length;if(n>0){if(i>1){for(var u="";n>0;n--)u+=this.pick(r);return u}if(i>0)return(""+r[0]).repeat(n)}return""}}),t}));
