!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).JustMyLuck=n()}(this,(function(){"use strict";var e=function(e){this.random=e},n={random:{configurable:!0}};n.random.get=function(){return Math.random},e.extend=function(e){var n=this;Object.entries(e).forEach((function(e){var t=e[0],r=e[1];n[t]=r,Object.defineProperty(n.prototype,t,{get:function(){return this.constructor[t]}})}))},Object.defineProperties(e,n),e.extend({boolean:function(){return this.random()<.5}}),e.extend({booleanWeighted:function(e){return(1-this.random())*(1+e)>1}}),e.extend({chance:function(e){return this.random()<e}});var t=Array.from,r=Array.isArray;function i(e){return r(e)?e:t(e)}var u=Number.isSafeInteger;function a(e){return e&&function(e){return u(e)&&!function(e){return e<0}(e)}(e.length)}function o(e){return a(e)?e:t(e)}function c(e){var n=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e.call.apply(e,[this,n].concat(t))};return n}e.extend({combination:function(e,n){var r=o(e),i=r.length;if((n=Math.min(n,i))>0){if(i>1==n>1){if(n<i/2){for(var u=[],a=0;n>0&&i>0;a++,i--)this.chance(n/i)&&(u.push(r[a]),n--);return u}if(r===e&&(r=t(r)),n>1)for(var c=i-n;c>0;c--,i--){var s=this.integer(0,i);r.splice(s,1)}return r}return[this.single(r)]}return[]},combination_1:function(e,n){e=i(e);var t=[];if(n>0)for(var r=e.length,u=0,a=r;u<a;u++,r--)this.chance(n/r)&&(t.push(e[u]),n--);return t},items:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .items is deprecated. Use .combination instead."),(e=this).combination.apply(e,n)}}),e.extend({float:function(e,n,t){var r,i=this;if(void 0===t&&(t=!1),t)return e===n?e:([0,0].some((function(){return(r=i.float(e,n))===e}))&&this.boolean()&&(r=n),r);if(e<n){var u=e+(n-e)*this.random();return u<n?u:e}throw new RangeError}}),e.extend({integer:function(e,n,t){return void 0===t&&(t=!1),e=Math.ceil(e),n=Math.floor(n),t&&n++,n-e==1?e:Math.floor(this.float(e,n))}}),e.extend({single:function(e){return(e=o(e))[this.integer(0,e.length)]},value:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .value is deprecated. Use .single instead."),(e=this).single.apply(e,n)},item:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .item is deprecated. Use .single instead."),(e=this).single.apply(e,n)},index:function(e){console.warn("[JustMyLuck] DeprecationWarning: .index is deprecated and will be removed in the future.");var n=e.length,t=this.integer(0,n);return t}}),e.extend({singleWeighted:function(e){for(var n=o(e),t=n.length,r=[],i=[],u=[],a=0;a<t;a++){var c=n[a],s=c[0],f=c[1];f>0?f<1/0?i.push([s,f]):r.push(s):u.push(s)}if(r.length)return this.single(r);if(i.length){i.sort((function(e,n){return n[1]-e[1]}));var h=[],l=[];if(i.forEach((function(e){var n=e[0],t=e[1];h.push(n),l.push(t)})),l[0]===function(e){return e[(n=e,n.length-1)];var n}(l))return this.single(h);var d=l.reduce((function(e,n){return e+n})),p=this.float(0,d),g=l.findIndex((function(e){return(p-=e)<0}));return g<0&&(g=0),h[g]}return this.single(u)},valueWeighted:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .valueWeighted is deprecated. Use .singleWeighted instead."),(e=this).singleWeighted.apply(e,n)},itemWeighted:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .itemWeighted is deprecated. Use .singleWeighted instead."),(e=this).singleWeighted.apply(e,n)},indexWeighted:function(e){return console.warn("[JustMyLuck] DeprecationWarning: .indexWeighted is deprecated and will be removed in the future."),this.singleWeighted(i(e).map((function(e,n){return[n,e[1]]})))}}),e.extend({combinationWeighted:function(e,n){var t,r,u=i(e),a=u.length,o=Math.min(a,n);return o>0?this.singleWeighted((t=u,r=o,t.length<r?[]:c((function(e,n,t){if(--t<0)return[[]];var r=[];n=n.slice();for(var i=function(){var i=n.shift();e(n,t).forEach((function(e){e.unshift(i),r.push(e)}))};n.length-t;)i();return r}))(t,r)).map((function(e){return[e.map((function(e){return e[0]})),e.map((function(e){return e[1]})).reduce((function(e,n){return e+n}),0)]}))):[]},itemsWeighted:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .itemsWeighted is deprecated. Use .combinationWeighted instead."),(e=this).combinationWeighted.apply(e,n)}}),e.extend({date:function(e,n,t){return new Date(this.integer(e.getTime(),n.getTime(),t))}});var s=624;function f(e){return t({length:e})}Object.assign(e,{MersenneTwister:function(e){for(var n=[e],t=1;t<s;t++)n[t]=1812433253*(n[t-1]^n[t-1]>>30)+t;var r=0;return function(){if(!r)for(var e=0;e<s;e++){var t=(2147483648&n[e])+(2147483647&n[(e+1)%s]),i=t>>1;t%2&&(i^=2567483615),n[e]=n[(e+397)%s]^i}var u=n[r];return u^=u>>11,u^=u<<7&2636928640,u^=u<<15&4022730752,r=(r+1)%s,(u^=u>>18)/2147483649}}}),e.extend({multicombination:function(e,n){var t=(e=o(e)).length;if(t>0){if(t>1){for(var r=[],i=0;n>0&&t>0;)this.chance(n/(n+t-1))?(r.push(e[i]),n--):(i++,t--);return r}var u=e[0];return f(n).fill(u)}return[]}}),e.extend({multicombinationWeighted:function(e,n){var t,r,u=i(e);return this.singleWeighted((t=u,r=n,c((function(e,n,t){if(--t<0)return[[]];var r=[];n=n.slice();for(var i=function(){var i=n[0];e(n,t).forEach((function(e){e.unshift(i),r.push(e)})),n.shift()};n.length;)i();return r}))(t,r)).map((function(e){return[e.map((function(e){return e[0]})),e.map((function(e){return e[1]})).reduce((function(e,n){return e+n}),0)]})))}}),e.extend({multipermutation:function(e,n){var t=(e=o(e)).length;if(t>0){if(t>1){for(var r=[];n>0;n--)r.push(this.single(e));return r}var i=e[0];return f(n).fill(i)}return[]},itemsRepeated:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .itemsRepeated is deprecated. Use .multipermutation instead."),(e=this).multipermutation.apply(e,n)},permutationRepeated:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .permutationRepeated is deprecated. Use .multipermutation instead."),(e=this).multipermutation.apply(e,n)}}),e.extend({multipermutationWeighted:function(e,n){var t,r,u=i(e);return this.singleWeighted((t=u,r=n,c((function(e,n,t){if(--t<0)return[[]];var r=[];return n.forEach((function(i){e(n,t).forEach((function(e){e.unshift(i),r.push(e)}))})),r}))(t,r)).map((function(e){return[e.map((function(e){return e[0]})),e.map((function(e){return e[1]})).reduce((function(e,n){return e+n}),0)]})))},itemsRepeatedWeighted:function(){for(var e,n=[],t=arguments.length;t--;)n[t]=arguments[t];return console.warn("[JustMyLuck] DeprecationWarning: .itemsRepeatedWeighted is deprecated. Use .multipermutationWeighted instead."),(e=this).multipermutationWeighted.apply(e,n)}}),e.extend({permutation:function(e,n){var r=o(e),i=r.length;if((n=Math.min(n,i))>0){if(i>1==n>1){if(r===e&&(r=t(r)),n>1){for(var u=[];n>0;n--,i--){var a=this.integer(0,i),c=r.splice(a,1)[0];u.push(c)}return u}return r}return[this.single(r)]}return[]}}),e.extend({permutationWeighted:function(e,n){var t,r,u=i(e),a=u.length,o=Math.min(a,n);return o>0?this.singleWeighted((t=u,r=o,t.length<r?[]:c((function(e,n,t){if(--t<0)return[[]];var r=[];return n.forEach((function(n,i,u){(u=u.slice()).splice(i,1),e(u,t).forEach((function(e){e.unshift(n),r.push(e)}))})),r}))(t,r)).map((function(e){return[e.map((function(e){return e[0]})),e.map((function(e){return e[1]})).reduce((function(e,n){return e+n}),0)]}))):[]}}),e.extend({shuffleInPlace:function(e){for(var n,t=e.length;t>1;){var r=this.integer(0,t);t--,n=[e[r],e[t]],e[t]=n[0],e[r]=n[1]}return e}}),e.extend({shuffle:function(e){return this.shuffleInPlace(t(e))}});var h="abcdefghijklmnopqrstuvwxyz".toUpperCase(),l="abcdefghijklmnopqrstuvwxyz"+h,d=l+"0123456789",p=h+"0123456789";return Object.assign(e,{alphabetic:l,alphanumeric:d,lowerCasedAlphabetic:"abcdefghijklmnopqrstuvwxyz",lowerCasedAlphanumeric:"abcdefghijklmnopqrstuvwxyz0123456789",numeric:"0123456789",upperCasedAlphabetic:h,upperCasedAlphanumeric:p}),e.extend({string:function(e,n){var t=(e=o(e)).length;if(t>0){if(t>1){for(var r="";n>0;n--)r+=this.single(e);return r}return(""+e[0]).repeat(n)}return""}}),e}));
