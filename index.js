!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).JustMyLuck=t()}(this,(function(){"use strict";var n=function(n){this.random=n},t={random:{configurable:!0}};t.random.get=function(){return Math.random},n.extend=function(n){var t=this;Object.entries(n).forEach((function(n){var r=n[0],i=n[1];t[r]=i,Object.defineProperty(t.prototype,r,{get:function(){return this.constructor[r]}})}))},Object.defineProperties(n,t),n.extend({boolean:function(){return this.random()<.5}}),n.extend({booleanWeighted:function(n){return n>0&&(!(n<1/0)||(1-this.random())*(1+n)>1)}}),n.extend({chance:function(n){return n>0&&(!(n<1)||this.random()<n)}}),n.extend({float:function(n,t,r){var i=this;if(void 0===r&&(r=!1),r){if(n===t)return n;var e,u=function(){return(e=i.float(n,t))===n};return(u()||u())&&this.boolean()&&(e=t),e}if(n<t){var o=n+(t-n)*this.random();return o>n&&o<t?o:n}throw new RangeError}}),n.extend({integer:function(n,t,r){return void 0===r&&(r=!1),n=Math.ceil(n),t=Math.floor(t),r&&t++,t-n==1?n:Math.floor(this.float(n,t))}}),n.extend({date:function(n,t,r){return new Date(this.integer(n.getTime(),t.getTime(),r))}});var r=624;function i(n){return n&&function(n){return Number.isSafeInteger(n)&&!function(n){return n<0}(n)}(n.length)}function e(n){return i(n)?n:Array.from(n)}Object.assign(n,{MersenneTwister:function(n){for(var t=[n],i=1;i<r;i++)t[i]=1812433253*(t[i-1]^t[i-1]>>30)+i;var e=0;return function(){if(!e)for(var n=0;n<r;n++){var i=(2147483648&t[n])+(2147483647&t[(n+1)%r]),u=i>>1;i%2&&(u^=2567483615),t[n]=t[(n+397)%r]^u}var o=t[e];return o^=o>>11,o^=o<<7&2636928640,o^=o<<15&4022730752,e=(e+1)%r,(o^=o>>18)/2147483649}}}),n.extend({pickIndex:function(n){return this.integer(0,n.length)}}),n.extend({pick:function(n){var t=e(n);return t[this.pickIndex(t)]},single:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pick.apply(n,t)}}),n.extend({pickCombination:function(n,t){var r=e(n),i=r.length;if(i>1&&t>1){if(t<i/2){for(var u=[],o=0;t>0&&i>0;o++,i--)this.chance(t/i)&&(u.push(r[o]),t--);return u}r===n&&(r=Array.from(r));for(var a=i-t;a>0;a--){var c=this.pickIndex(r);r.splice(c,1)}return r}return i>0&&t>0?[this.pick(r)]:[]},combination:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickCombination.apply(n,t)}});var u=Array.isArray;function o(n){return u(n)?n:Array.from(n)}function a(n){return n.reduce((function(n,t){return n+t}),0)}function c(n){var t=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return n.call.apply(n,[this,t].concat(r))};return t}function f(n){return Array.from({length:n})}n.extend({pickWeighted:function(n){var t,r,i=[],e=[],u=[];if(o(n).forEach((function(n){var t=n[0],r=n[1];r>0?r<1/0?i.push([t,r]):e.push(t):u.push(t)})),e.length)return this.pick(e);if(i.length){var c=[],f=i.sort((function(n,t){return t[1]-n[1]})).map((function(n){var t=n[0],r=n[1];return c.push(r),t})),h=c[0];if((t=c)[(r=t,r.length-1)]===h)return this.pick(f);var p=a(c=c.map((function(n){return n/h}))),s=this.float(0,p),l=c.findIndex((function(n){return(s-=n)<0}));return l<0&&(l=0),f[l]}return this.pick(u)},singleWeighted:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickWeighted.apply(n,t)}}),n.extend({pickCombinationWeighted:function(n,t){var r=this,i=[],e=[],u=[],f=[];o(n).forEach((function(n,t){var r=n[0],o=n[1];f.push(r),o>0?o<1/0?i.push([t,o]):e.push(t):u.push(t)}));var h=new Set;return t>0&&e.length&&this.pickCombination(e,t).forEach((function(n){h.add(n),t--})),function(){var n,e,u=i.length;return u>0&&t>0?r.pickWeighted((n=i,e=Math.min(t,u),n.length<e?[]:c((function(n,t,r){if(--r<0)return[[]];var i=[];t=t.slice();for(var e=function(){var e=t.shift();n(t,r).forEach((function(n){n.unshift(e),i.push(n)}))};t.length-r;)e();return i}))(n,e)).map((function(n){return[n.map((function(n){return n[0]})),a(n.map((function(n){return n[1]})))]}))):[]}().forEach((function(n){h.add(n),t--})),t>0&&u.length&&this.pickCombination(u,t).forEach((function(n){h.add(n)})),f.filter((function(n,t){return h.has(t)}))},combinationWeighted:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickCombinationWeighted.apply(n,t)}}),n.extend({pickMulticombination:function(n,t){var r=e(n),i=r.length;if(t>0){if(i>1){for(var u=[],o=0;t>0&&i>0;)this.chance(t/(t+i-1))?(u.push(r[o]),t--):(o++,i--);return u}if(i>0){var a=r[0];return f(t).fill(a)}}return[]},multicombination:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickMulticombination.apply(n,t)}}),n.extend({pickMulticombinationWeighted:function(n,t){var r,i,e=[],u=[],f=[];return o(n).forEach((function(n){var t=n[0],r=n[1];r>0?r<1/0?e.push([t,r]):u.push(t):f.push(t)})),u.length?this.pickMulticombination(u,t):e.length?this.pickWeighted((r=e,i=t,c((function(n,t,r){if(--r<0)return[[]];var i=[];t=t.slice();for(var e=function(){var e=t[0];n(t,r).forEach((function(n){n.unshift(e),i.push(n)})),t.shift()};t.length;)e();return i}))(r,i)).map((function(n){return[n.map((function(n){return n[0]})),a(n.map((function(n){return n[1]})))]}))):this.pickMulticombination(f,t)},multicombinationWeighted:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickMulticombinationWeighted.apply(n,t)}}),n.extend({pickMultipermutation:function(n,t){var r=e(n),i=r.length;if(t>0){if(i>1){for(var u=[];t>0;t--)u.push(this.pick(r));return u}if(i>0){var o=r[0];return f(t).fill(o)}}return[]},multipermutation:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickMultipermutation.apply(n,t)}}),n.extend({pickMultipermutationWeighted:function(n,t){var r,i,e=[],u=[],f=[];return o(n).forEach((function(n){var t=n[0],r=n[1];r>0?r<1/0?e.push([t,r]):u.push(t):f.push(t)})),u.length?this.pickMultipermutation(u,t):e.length?this.pickWeighted((r=e,i=t,c((function(n,t,r){if(--r<0)return[[]];var i=[];return t.forEach((function(e){n(t,r).forEach((function(n){n.unshift(e),i.push(n)}))})),i}))(r,i)).map((function(n){return[n.map((function(n){return n[0]})),a(n.map((function(n){return n[1]})))]}))):this.pickMultipermutation(f,t)},multipermutationWeighted:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickMultipermutationWeighted.apply(n,t)}}),n.extend({shuffleInPlace:function(n){for(var t,r=n.length;r>1;){var i=this.integer(0,r);r--,t=[n[i],n[r]],n[r]=t[0],n[i]=t[1]}return n}}),n.extend({pickPermutation:function(n,t){return this.shuffleInPlace(this.pickCombination(n,t))},permutation:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickPermutation.apply(n,t)}}),n.extend({pickPermutationWeighted:function(n,t){return this.shuffleInPlace(this.pickCombinationWeighted(n,t))},permutationWeighted:function(){for(var n,t=[],r=arguments.length;r--;)t[r]=arguments[r];return(n=this).pickPermutationWeighted.apply(n,t)}}),n.extend({shuffle:function(n){return this.shuffleInPlace(Array.from(n))}});var h="abcdefghijklmnopqrstuvwxyz".toUpperCase(),p="abcdefghijklmnopqrstuvwxyz"+h,s=p+"0123456789",l=h+"0123456789";return Object.assign(n,{alphabetic:p,alphanumeric:s,lowerCasedAlphabetic:"abcdefghijklmnopqrstuvwxyz",lowerCasedAlphanumeric:"abcdefghijklmnopqrstuvwxyz0123456789",numeric:"0123456789",upperCasedAlphabetic:h,upperCasedAlphanumeric:l}),n.extend({string:function(n,t){var r=e(n),i=r.length;if(t>0){if(i>1){for(var u="";t>0;t--)u+=this.pick(r);return u}if(i>0)return(""+r[0]).repeat(t)}return""}}),n}));
